<!DOCTYPE html>
<html lang="en">
<head>

  <script type="module">
    import { auth, db } from './firebase-init.js';
    import { onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";
    import { doc, onSnapshot } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

    const LOCAL_MARK = 'gs_session_ack_ts';
    onAuthStateChanged(auth, (user) => {
      if (!user) return;
      const uref = doc(db, 'users', user.uid);
      onSnapshot(uref, async (snap) => {
        const bump = snap?.data()?.sessionBumpedAt?.toMillis?.() || 0;
        const seen = parseInt(localStorage.getItem(LOCAL_MARK) || '0', 10);
        if (bump > seen) {
          localStorage.setItem(LOCAL_MARK, String(bump));
          try { await signOut(auth); } finally { location.replace('login.html'); }
        }
      });
    });
  </script>
  
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Three Sides â€” IMPORTANT SUPPORT NUMBERS</title>
  <link href="https://fonts.googleapis.com/css2?family=Patrick+Hand&display=swap" rel="stylesheet">
  <!-- Absolute (good for GitHub Pages) -->
  <link rel="manifest" href="manifest.webmanifest">
  
  <!-- Favicons -->
  <link rel="icon" type="image/svg+xml" sizes="any" href="/3-sides-planner.io/favicon.svg">
  <link rel="icon" type="image/png" sizes="32x32" href="/3-sides-planner.io/favicon-32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/3-sides-planner.io/favicon-16.png">
  <link rel="apple-touch-icon" href="/3-sides-planner.io/icon-192.png"> <!-- iOS Home screen -->
  
  <!-- (Optional Safari pinned tab) -->
  <link rel="mask-icon" href="/3-sides-planner.io/favicon-pinned.svg" color="#6a5acd">
  

  <script src="sw-register.js"></script>

  <!-- At the top of delete-account.html <body> or in <head> -->
  <script type="module">
    import './firebase-init.js'; // ensures app/auth/db are initialized
  </script>
    
  <script>
    (function () {
      try {
        var r = document.documentElement;
        var t = localStorage.getItem("themeClass")
          || localStorage.getItem("themeClass:last")
          || "theme-original";
        (r.className.match(/\btheme-[^\s]+/g) || []).forEach(c => r.classList.remove(c));
        r.classList.add(t);
      } catch { }
    })();
  </script>
    
    <!-- prefs bootstrap: put in <head> of every page -->
    <script>
      (function () {
        const PREFS_KEY = 'gs_prefs';
        let p = {};
        try { p = JSON.parse(localStorage.getItem(PREFS_KEY) || '{}'); } catch { }
        document.documentElement.style.setProperty('--motion-scale', p.reducedMotion ? '0' : '1');
        document.documentElement.style.setProperty('--text-size', p.largerText ? '1.1rem' : '1rem');
      })();
    </script>
      
  <!-- Prevent flash of wrong theme -->
  <style>
    html {
      visibility: hidden
    }
  </style>
  <noscript>
    <style>
      html {
        visibility: visible
      }
    </style>
  </noscript>

  <script type="module" src="auth.js"></script>

  <style>
    html {
      visibility: hidden
    }
  
    /* Base layout & theming trims (kept from your page) */
    body {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      padding-bottom: 5rem;
      margin: 0;
      font-family: 'Open Sans', sans-serif;
      background: rgb(3, 3, 82)
    }
  
    .three-d-title {
      font-family: 'Patrick Hand', cursive;
      font-size: 2rem;
      font-weight: bold;
      text-align: center;
      text-shadow: 2px 2px rgba(0, 0, 0, .2);
      color: green;
      margin: .7rem 0 0
    }
  
    .container {
      padding: 1rem;
      margin: 0 auto;
      width: 95vw;
      max-width: 600px;
      box-sizing: border-box
    }
  
    ul {
      list-style: none;
      padding: 0;
      margin: 0
    }
  
    li {
      font-size: 1.15rem;
      padding: .9rem .8rem;
      margin: .3rem;
      border: 4px solid green;
      background: rgb(162, 242, 162);
      line-height: 1.4
    }
  
    .bottom-nav {
      position: fixed;
      left: 0;
      right: 0;
      bottom: 0;
      background: #fafafa;
      border-top: 1px solid rgba(69, 111, 179, .9);
      display: flex;
      justify-content: space-around;
      padding: .8rem 0;
      z-index: 1000
    }
  
    .nav-icon {
      display: flex;
      flex-direction: column;
      align-items: center;
      text-decoration: none;
      color: rgba(69, 111, 179, .9);
      font-size: 1.3rem
    }
  
    .nav-icon span {
      font-size: .75rem;
      margin-top: .2rem
    }
  
    .footer-quote {
      color: #fff;
      text-align: center;
      font-size: 1.3rem;
      margin: 2rem 0
    }
  
    /* Personal list editor (only shown when logged in) */
    #editor {
      display: none;
      margin-top: 1rem;
      background: #fff;
      color: #222;
      border-radius: 12px;
      padding: 12px
    }
  
    #editor .row {
      display: flex;
      gap: .5rem;
      margin: .4rem 0
    }
  
    #editor input {
      flex: 1;
      padding: .55rem .65rem;
      border: 1px solid #ccc;
      border-radius: 8px
    }
  
    #editor button {
      padding: .55rem .8rem;
      border-radius: 8px;
      border: 1px solid #2a922a;
      background: #2a922a;
      color: #fff;
      cursor: pointer
    }
  
    #status {
      font-size: .9rem;
      opacity: .8;
      margin-top: .25rem
    }
  
    #loginHint {
      display: none;
      margin: .75rem 0;
      color: #fff;
      opacity: .9
    }
  
    /* Prevent FOUC when JS disabled */
    @media (prefers-reduced-motion:no-preference) {
  
      html,
      body {
        scroll-behavior: smooth
      }
    }
  
    /* Inline SVG divider color (green with white edge) */
    .divider-bg {
      background: url("data:image/svg+xml;utf8,%3Csvg viewBox='0 0 1440 150' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='%232a922a' stroke='%23ffffff' stroke-width='3' d='M0,40 Q80,90 160,40 T320,40 T480,40 T640,40 T800,40 T960,40 T1120,40 T1280,40 T1440,40 L1440,0 L0,0 Z'/%3E%3C/svg%3E") no-repeat center;
      background-size: cover
    }
  </style>
  <noscript>
    <style>
      html {
        visibility: visible
      }
    </style>
  </noscript>  

<style>
  /* -------------------- BASE PAGE LAYOUT -------------------- */
.three-d-title {
  font-family: 'Patrick Hand', cursive;
  font-size: 2.2rem !important;
  font-weight: bold;
  text-align: center;
  text-shadow: 2px 2px rgba(0, 0, 0, 0.2);
  color: green !important;
}

/* -------------------- NAV ICON CONSISTENCY -------------------- */
.bottom-nav {
  position: fixed;
  bottom: 0;
  left: 0;
  width: 100%;
  background: #fafafa;
  border-top: 1px solid rgba(69, 111, 179, 0.903);
  display: flex;
  justify-content: space-around;
  padding: 0.8rem 0;
  z-index: 1000;
  box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.05);
}

.bottom-nav {
  overflow-x: auto; /* makes sure it scrolls rather than overflows */
  max-width: 100vw;
  box-sizing: border-box;
}

.nav-icon {
  text-decoration: none;
  color: rgba(69, 111, 179, 0.903);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  font-size: 1.3rem;
  transition: color 0.3s ease;
}

.nav-icon span {
  font-size: 0.75rem;
  margin-top: 0.2rem;
  color: rgba(69, 111, 179, 0.903);
}

.nav-icon:hover,
.nav-icon:focus {
  color: #72aadf;
  outline: none;
}

textarea, button, input, .icon-button {
  max-width: 100%;
  box-sizing: border-box;
}

body {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  padding-bottom: 5rem; /* height of the nav */
}

    html, body {
  scroll-behavior: smooth;
  overscroll-behavior-y: contain; /* or 'none' if needed */
}

html, body {
  margin: 0;
  padding: 0;
  overflow-x: hidden; /* âœ… prevents horizontal scroll */
  box-sizing: border-box;
}

    html, body {
  margin: 10;
  padding: 0;
  min-height: 100vh;
  box-sizing: border-box;
    width: 100%;
  padding-bottom: 4rem; /* for footer space */
}

*, *::before, *::after {
  box-sizing: border-box;
}

/* --------------------------Theme Customization ------------------ */
:root {
  --bg-color: #ffffff;
  --text-color: rgb(3, 3, 82);
  --accent-color: #87ceeb; /* default blue */
}

body {
  background-color: var(--bg-color);
  color: var(--text-color);
}

.button, .popup {
  background-color: var(--accent-color);
  color: var(--text-color);
}

.theme-gallery {
  display: flex;
  gap: 1rem;
  flex-wrap: wrap;
  padding: 1rem;
}

.theme-card {
  border: 2px solid #ccc;
  padding: 1rem;
  width: 200px;
  border-radius: 10px;
  background-color: #f7f7f7;
  text-align: center;
  box-shadow: 0 0 5px rgba(0,0,0,0.1);
}

.theme-card.locked {
  opacity: 0.5;
  pointer-events: none;
}

.theme-original {
  --bg-color: #ffffff;
  --text-color: purple;
  --accent-color: #6095aa;
}

.theme-pinklight {
  --bg-color: #e59fb6;
  --text-color: #880e4f;
  --accent-color: #f48fb1;
}

.theme-purple {
  --bg-color: #a836b9;
  --text-color: #4a148c;
  --accent-color: #ce93d8;
}

.theme-greenmed {
  --bg-color: #6fca8c;
  --text-color: #131413;
  --accent-color: #26a69a;
}

.theme-pinkmed {
  --bg-color: #e03fa8;       /* rich berry-pink backdrop */
  --text-color: #621547;     /* soft pastel pink for contrast */
  --accent-color: #d81b60;   /* bold raspberry pink for buttons */
}

.theme-darkblue {
  --bg-color: #1e2a38;      /* deep navy */
  --text-color: #3f8cb5;     /* soft white */
  --accent-color: #3f51b5;   /* indigo */
}

.theme-darkgreen {
  --bg-color: #1c611c;       /* earthy dark green */
  --text-color: #43a043;     /* light pastel green */
  --accent-color: #81c784;   /* medium green */
}

.theme-darkrose {
  --bg-color: #4b0e1e;       /* deep romantic rose */
  --text-color: #823549;     /* soft light rose */
  --accent-color: #c2185b;   /* vibrant lipstick pink */
}

.theme-blue {
  --bg-color: #aad7f6;
  --text-color: #131413;
  --accent-color: #42a5f5;
}

.theme-greenmed {
  --bg-color: #6fca8c;
  --text-color: #004d40;
  --accent-color: #26a69a;
}

.theme-bingo {
  --bg-color: #e6f640;
  --text-color: #767931;
  --accent-color: #0a0a0a;
}

.theme-bumblebee {
  --bg-color: #d0c65d;
  --text-color: #3e3e3e;
  --accent-color: #f9c80e;
}

.theme-dolphin {
  --bg-color: #1e557d;         /* deep ocean blue */
  --text-color: #cc6ca0;       /* soft, warm pink â€“ still readable */
  --accent-color: #73c2fb;     /* playful dolphin splash blue */
}

.theme-bubby-bear {
  --bg-color: #6e4f34;     /* warm, soft teddy brown */
  --text-color: #f9e8d9;   /* creamy vanilla */
  --accent-color: #a77b4f; /* honey caramel highlight */
}

.theme-shortcake {
  --bg-color: #fddde6;      /* soft strawberry milk pink */
  --text-color: #a84863;    /* berry rose */
  --accent-color: #ffc1cc;  /* frosted pink topping */
}

.theme-arcade {
  --bg-color: #C8102E;
    /* classic Santa Fe red */
    --text-color: #FFE3E7;
    /* soft light */
    --accent-color: #6b0010;
    /* deep maroon */
}

.theme-peach {
  --bg-color: #F9C5A0;      /* warm peachy background */
  --text-color: #5A3E36;    /* cocoa brown for beautiful contrast */
  --accent-color: #FFE5B4;  /* soft peachy cream for highlights */
}

.theme-brady {
  --bg-color: #B0C4DE;
  --text-color: #2F4F4F;
  --accent-color: #E6EEF5;
}

.theme-moonlight {
  --bg-color: #082042;       /* midnight sky */
  --text-color: #64a4e4;     /* pale moon */
  --accent-color: #9dcfff;   /* shimmering accent */
}

.top-journal-section,
.gradient-section-box,
.bottom-wrapper,
.full-journal-box 
{
  background: var(--bg-color); /* or a themed gradient if you're fancy */
  color: var(--text-color);
}

.theme-colored-text {
  color: var(--text-color) !important;
  font-weight: bold;
  font-size: 1.1rem;
}

#authControls {
  margin-bottom: 0;
  padding-bottom: 0;
}

#authControls p {
  margin: 0;
  padding: 0;
}

.page-header {
  margin-top: 0;
  padding-top: 0;
}

body {
  margin-top: 0;
}

ul {
  list-style: none;
  padding: 0;
  font-size: .5rem;
  line-height: .9;
}

html, body {
  margin: 0;
  padding: 0;
  min-height: 100vh;
  background-color: #3bb5b3;
  background-size: cover;
  display: flex;
  flex-direction: column;
  align-items: center;
  padding-bottom: 6rem;
  box-sizing: border-box;
  font-family: 'Open Sans', sans-serif !important;
  color: black !important;
  overflow-x: hidden;
}

strong {
  color: black !important;
}

/* Responsive styles for important-numbers */
@media (max-width: 600px) {
  h2 {
    font-size: 1.3rem;
  }

  li {
    font-size: 1.9rem;
    padding: 0.8rem;
  }
}

.section-container {
  padding: 1rem;
  max-width: 1000px;
  margin: auto;
}

@media (max-width: 600px) {
  body {
    padding: 0 1rem;
    box-sizing: border-box;
  }
}

li {
  font-size: 1.15rem !important;
  padding: 0.9rem 0.8rem !important; /* vertical padding reduced */
  margin: .3rem !important;  /* tighter space between items */
  border: 1.7px solid #6c3763c6!important;
  border-radius: 25px;
  background-color: #ffff !important;
  line-height: 1.4; /* ğŸ’« try 1.5â€“1.8 depending on what looks best */

}

.three-d-title {
  font-family: 'Patrick Hand', cursive;
  font-size: 2rem !important;
  font-weight: bold;
  text-align: center;
  text-shadow: 2px 2px rgba(0, 0, 0, 0.2);
  color: rgb(16, 18, 16) !important;
    margin-top: 0.7rem !important;  /* <-- pull it tight to the top divider */
  margin-bottom: 0rem !important; /* <-- pull it tight to the bottom divider */
}

.footer-quote {
  color: rgb(210, 27, 195); /* or #fefefe, or any color you want */
  text-align: center;
  font-size: 1.3rem;
  margin-top: 2rem;
  background-color: rgb(215, 192, 236);
  box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.05);
  border-top-right-radius: 25px;
  border-bottom-left-radius: 25px;
}

/* --------------------- Mobile-safe media query -------------------- */
@media (max-width: 600px) {
  .image-text-box {
    width: 100%;
    max-width: 100%;
    margin-left: 0;
    margin-right: 0;
    border-radius: 0;
    padding: 1rem 0.75rem;
    text-align: left; /* optional: center if you prefer */
  }

  .hero-image {
    width: 100%;
    height: auto;
    display: block;
    margin: 0 auto;
  }

  .hero-caption,
  .image-text-box p {
    font-size: 1rem;
    line-height: 1.4;
  }
}

.container {
  padding: 1rem;
  margin: 0 auto;
  width: 95vw;
  max-width: 600px;
  box-sizing: border-box;
}

body {
  overflow-x: hidden;
}

.support-box {
  width: 100%;
  margin: 0 auto;
  border-radius: 0;
}

/* =============== overrides ================= */
.torn-paper-divider {
  width: 100%;
  height: 40px;
  margin: 0 auto;
  display: block;
  background: url("data:image/svg+xml;utf8,%3Csvg viewBox='0 0 1440 150' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='rgb(255, 198, 224) ' d='M0,40 Q80,90 160,40 T320,40 T480,40 T640,40 T800,40 T960,40 T1120,40 T1280,40 T1440,40 L1440,0 L0,0 Z'/%3E%3C/svg%3E") no-repeat center;
  background-size: cover;
  transform: rotate(180deg);
}

.torn-paper-divider { 
  filter: none !important; 
}

/* ================= register css add ons ================ */
/* ADDED: tiny legal footer style for the Privacy link */
/* Privacy link at the bottom: make it match the accent */
.legal-footer a { color: #C9BBFF !important; }              /* link color */
.legal-footer a:hover { text-decoration: underline; filter: brightness(1.12); }
  
  .legal-footer {
    color: black !important;
    text-align: center;
  }

  .legal-footer a {
    color: rgb(49, 64, 162) !important;
  }

/* ================= navbar overrides ============= */
/* === Glow Standard Bottom Nav (namespaced) === */
:root{
  --gs-nav-h: 64px;
  --gs-nav-fs: 12px;   /* label */
  --gs-nav-ico: 20px;  /* emoji */
  --gs-nav-bg: #fafafa;
  --gs-nav-border: rgba(69,111,179,.25);
  --gs-nav-text: rgba(69,111,179,1);
  --gs-nav-active: #0b6cc4;
}

/* Reserve space for the fixed bar (opt-in via body.gs-has-nav) */
body.gs-has-nav{
  padding-bottom: calc(var(--gs-nav-h) + env(safe-area-inset-bottom, 0px));
}

/* The fixed bar */
footer.gs-nav{
  position: fixed;
  left: 0; right: 0; bottom: 0;
  height: var(--gs-nav-h);
  background: var(--gs-nav-bg);
  border-top: 1px solid var(--gs-nav-border);
  display: flex;
  align-items: center;
  justify-content: space-around;
  padding: 0 env(safe-area-inset-left,8px) 0 env(safe-area-inset-right,8px);
  z-index: 1000;
  overflow: hidden;
  box-sizing: border-box;
  /* normalize inheritance so pages canâ€™t change it */
  font-size: 0; line-height: 1; font-family: inherit;
}

/* Items are equal columns */
.gs-nav__item{
  flex: 1 1 0;
  min-width: 0;
  display: inline-flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 2px;
  text-decoration: none;
  color: var(--gs-nav-text);
  white-space: nowrap;
  padding: 0; margin: 0;
  box-sizing: border-box;
}

/* Explicit sizes (prevents page font from changing the bar) */
.gs-nav__item .ico { font-size: var(--gs-nav-ico); display:block; line-height:1; }
.gs-nav__item span { font-size: var(--gs-nav-fs); display:block; line-height:1; }

/* Active + hover */
.gs-nav__item[aria-current="page"]{ color: var(--gs-nav-active); font-weight: 700; }
.gs-nav__item:hover{ color:#72aadf; }

  </style>
</head>
<body>

  <div class="container">
    <div class="support-box">
    <h1 class="three-d-title">Important Support Numbers</h1>
<div class="torn-paper-divider" style="filter: brightness(0) invert(1); margin-bottom: 1.5rem;"></div>

<!-- Crisis & emergency support -->
<h3 class="support-heading">ğŸš¨ Crisis &amp; Emergency Support</h3>
<ul class="support-list">
  <li>
    <strong>ğŸš‘ Emergency Services (Police / Fire / Ambulance)</strong>
    <a href="tel:911">ğŸ“ 911</a>
  </li>
  <li>
    <strong>ğŸ’— Suicide &amp; Crisis Lifeline (24/7)</strong>
    <a href="tel:988">ğŸ“ 988</a>
  </li>
  <li>
    <strong>ğŸ’¬ Crisis Text Line (24/7 text)</strong>
    <a href="sms:741741?body=HOME">ğŸ“± Text "HOME" to 741741</a>
  </li>
  <li>
    <strong>ğŸ– Veterans Crisis Line</strong>
    <a href="tel:1-800-273-8255">ğŸ“ (Press 1) 1-800-273-TALK (8255)</a>
  </li>
  <li>
    <strong>ğŸŒª Disaster Distress Helpline</strong>
    <a href="tel:1-800-985-5990">ğŸ“ 1-800-985-5990</a>
  </li>
</ul>

<!-- Mental health & substance support -->
<h3 class="support-heading">ğŸ’š Mental Health &amp; Substance Support</h3>
<ul class="support-list">
  <li>
    <strong>ğŸ§  NAMI HelpLine (info &amp; support)</strong>
    <a href="tel:1-800-950-6264">ğŸ“ 1-800-950-NAMI (6264)</a>
  </li>
  <li>
    <strong>ğŸ“ SAMHSA National Helpline</strong>
    <a href="tel:1-800-662-4357">ğŸ“ 1-800-662-HELP (4357)</a>
  </li>
  <li>
    <strong>ğŸ¤± Postpartum Support International</strong>
    <a href="tel:1-800-944-4773">ğŸ“ 1-800-944-4773</a>
  </li>
  <li>
    <strong>ğŸ§ Teen Line (for teens)</strong>
    <a href="tel:1-800-852-8336">ğŸ“ 1-800-852-8336</a>
  </li>
  <li>
    <strong>ğŸ³ï¸â€ğŸŒˆ The Trevor Project (LGBTQ+ support)</strong>
    <a href="tel:1-866-488-7386">ğŸ“ 1-866-488-7386</a>
  </li>
</ul>

<!-- Safety, abuse & violence -->
<h3 class="support-heading">ğŸ›¡ï¸ Safety, Abuse &amp; Violence</h3>
<ul class="support-list">
  <li>
    <strong>ğŸ’œ National Domestic Violence Hotline</strong>
    <a href="tel:1-800-799-7233">ğŸ“ 1-800-799-SAFE (7233)</a>
  </li>
  <li>
    <strong>ğŸ’™ National Sexual Assault Hotline (RAINN)</strong>
    <a href="tel:1-800-656-4673">ğŸ“ 1-800-656-HOPE (4673)</a>
  </li>
  <li>
    <strong>ğŸ§’ Childhelp National Child Abuse Hotline</strong>
    <a href="tel:1-800-422-4453">ğŸ“ 1-800-4-A-CHILD (422-4453)</a>
  </li>
  <li>
    <strong>ğŸƒ National Runaway Safeline</strong>
    <a href="tel:1-800-786-2929">ğŸ“ 1-800-RUNAWAY (786-2929)</a>
  </li>
</ul>

<!-- Kids, teens & families -->
<h3 class="support-heading">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ Kids, Teens &amp; Families</h3>
<ul class="support-list">
  <li>
    <strong>ğŸ§¸ Missing &amp; Exploited Children (NCMEC)</strong>
    <a href="tel:1-800-843-5678">ğŸ“ 1-800-THE-LOST (843-5678)</a>
  </li>
</ul>

<!-- Medical & poison emergencies -->
<h3 class="support-heading">âš•ï¸ Medical &amp; Poison Emergencies</h3>
<ul class="support-list">
  <li>
    <strong>â˜ ï¸ Poison Control</strong>
    <a href="tel:1-800-222-1222">ğŸ“ 1-800-222-1222</a>
  </li>
</ul>

<div class="torn-paper-divider" style="filter: brightness(0) invert(1); margin-bottom: 1.5rem;"></div>

  </div>

  <footer class="footer-quote">ğŸ’— ğ’´ğ‘œğ“Š'ğ“‡ğ‘’ ğ“ƒğ‘œğ“‰ ğ’¶ğ“ğ‘œğ“ƒğ‘’. ğ»ğ‘’ğ“ğ“… ğ’¾ğ“ˆ ğ’¿ğ“Šğ“ˆğ“‰ ğ’¶ ğ’¸ğ’¶ğ“ğ“ ğ’¶ğ“Œğ’¶ğ“. ğŸ’—</footer>

  <div class="legal-footer">
    View our
    <a href="privacy.html" rel="noopener">Privacy Policy</a>
    and
    <a href="terms.html" rel="noopener">Terms of Use</a>.
  </div>

  <!-- ========== IDENTICAL NAV HTML (copy this exact block to every page) ========== -->
  <!-- Standard Bottom Nav (use on every page) -->
  <footer class="gs-nav">
    <a href="index.html" class="gs-nav__item"><span class="ico">ğŸ </span><span>Home</span></a>
    <a href="toolkit-hub.html" class="gs-nav__item" data-auth="true"><span class="ico">ğŸ§°</span><span>Toolkit</span></a>
    <a href="wellness.html" class="gs-nav__item" data-auth="true"><span class="ico">ğŸ’–</span><span>Wellness</span></a>
    <a href="pet.html" class="gs-nav__item" data-auth="true"><span class="ico">ğŸ¾</span><span>Pet</span></a>
    <a href="important-numbers.html" class="gs-nav__item"><span class="ico">ğŸ†˜</span><span>Help</span></a>
    <a href="systemSettings.html" class="gs-nav__item" data-auth="true"><span
        class="ico">ğŸ¨</span><span>Settings</span></a>
  </footer>
  
  <script type="module">
    import { auth, db } from "./firebase-init.js";
    import { onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";
    import { doc, getDoc, setDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

    // --- fast reveal (public page) ---
    const reveal = () => (document.documentElement.style.visibility = "visible");
    const failsafe = setTimeout(reveal, 1200);
    window.addEventListener("load", () => setTimeout(reveal, 200));

    // Tiny DOM helpers + null guards (editor is optional)
    const $ = (id) => document.getElementById(id);
    const els = {
      list: $("list"),
      editor: $("editor"),
      status: $("status"),
      name: $("name"),
      phone: $("phone"),
      addBtn: $("addBtn"),
      saveBtn: $("saveBtn"),
      loginHint: $("loginHint"),
    };

    // Default placeholders (used only if you add the editor UI)
    let items = [
      { name: "Mom", phone: "" },
      { name: "Rick", phone: "" },
      { name: "Primary Care", phone: "" },
      { name: "Therapist", phone: "" },
    ];

    let ref = null;

    // Renders the simple name/phone rows (only if #list exists)
    function render() {
      if (!els.list) return;
      els.list.innerHTML = "";
      items.forEach((it, idx) => {
        const row = document.createElement("div");
        row.className = "row";
        const n = document.createElement("input");
        const p = document.createElement("input");
        n.value = it.name || "";
        p.value = it.phone || "";
        n.placeholder = "Name"; p.placeholder = "Phone";
        n.addEventListener("input", () => (items[idx].name = n.value));
        p.addEventListener("input", () => (items[idx].phone = p.value));
        const del = document.createElement("button");
        del.textContent = "Delete";
        del.addEventListener("click", () => { items.splice(idx, 1); render(); markDirty(); });
        row.append(n, p, del);
        els.list.appendChild(row);
      });
    }
    const markDirty = (m = "Unsaved changesâ€¦") => { if (els.status) els.status.textContent = m; };

    // Add/save handlers (only if those buttons exist)
    els.addBtn?.addEventListener("click", () => {
      const name = (els.name?.value || "").trim();
      const phone = (els.phone?.value || "").trim();
      if (!name && !phone) return;
      items.push({ name, phone });
      if (els.name) els.name.value = "";
      if (els.phone) els.phone.value = "";
      render(); markDirty();
    });

    els.saveBtn?.addEventListener("click", save);

    async function load() {
      if (!ref) return;
      els.status && (els.status.textContent = "Loadingâ€¦");
      try {
        const s = await getDoc(ref);
        if (s.exists() && Array.isArray(s.data().items)) items = s.data().items;
        render();
        els.status && (els.status.textContent = "Loaded");
      } catch (e) {
        console.error("Load failed:", e);
        els.status && (els.status.textContent = "Load error");
      }
    }

    async function save() {
      if (!ref) return;
      els.status && (els.status.textContent = "Savingâ€¦");
      try {
        await setDoc(ref, { items, updatedAt: serverTimestamp() }, { merge: true });
        els.status && (els.status.textContent = "Saved âœ“");
      } catch (e) {
        console.error("Save failed:", e);
        els.status && (els.status.textContent = "Save error");
      }
    }

    // Theme upgrade if signed in (no gate â€” page remains public)
    async function applyThemeFor(uid) {
      try {
        const s = await getDoc(doc(db, "users", uid));
        const cls = s.exists() ? (s.data().themeClass || "theme-original") : "theme-original";
        const root = document.documentElement;
        [...root.classList].forEach(c => c.startsWith("theme-") && root.classList.remove(c));
        root.classList.add(cls);
        try { localStorage.setItem("themeClass", cls); } catch { }
      } catch { }
    }

    // Auth wiring â€” stays public when logged out
    onAuthStateChanged(auth, async (user) => {
      try {
        if (user) {
          ref = doc(db, "users", user.uid, "settings", "importantNumbers");
          if (els.loginHint) els.loginHint.style.display = "none";
          if (els.editor) els.editor.style.display = "block";
          await applyThemeFor(user.uid);
          await load();
        } else {
          ref = null;
          if (els.editor) els.editor.style.display = "none";
          if (els.loginHint) els.loginHint.style.display = "block";

          // Progressive theme for guests
          const cached = localStorage.getItem("themeClass");
          if (cached) {
            const root = document.documentElement;
            [...root.classList].forEach(c => c.startsWith("theme-") && root.classList.remove(c));
            root.classList.add(cached);
          }
          render(); // does nothing unless you added the editor
        }
      } finally {
        reveal(); clearTimeout(failsafe);
      }
    });
  </script>
   
   <script>
    /* ========== GLOBAL NAV SCRIPT (tiny, repeat on every page) ========== */
    (function () {
      // 1) Mark current tab active
      const here = (location.pathname.split('/').pop() || 'index.html').toLowerCase();
      document.querySelectorAll('.bottom-nav .nav-icon').forEach(a => {
        const href = (a.getAttribute('href') || '').toLowerCase();
        if (href === here) a.setAttribute('aria-current', 'page');
      });

      // 2) Gate authed links (replace with your real auth check if needed)
      const isAuthed = !!localStorage.getItem('currentUser');
      document.querySelectorAll('.bottom-nav [data-auth="true"]').forEach(a => {
        if (isAuthed) return;
        a.addEventListener('click', (e) => {
          e.preventDefault();
          const dest = a.getAttribute('href') || 'index.html';
          location.href = `login.html?next=${encodeURIComponent(dest)}`;
        });
      });
    })();
  </script>
  </body>
  
  </html>